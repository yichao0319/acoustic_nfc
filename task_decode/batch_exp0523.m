function batch_exp0523

input_rcv_dir  = '../data/rcv_pkts/exp0523/';
output_rcv_dir = '../processed_data/task_decode/rcv_pkts/exp0523/';


%% --------------------------------------------
%% experiments
%% --------------------------------------------
seeds = [1:1];
expnames = {'rcv_packet_dist0_', 'rcv_packet_dist0_hand', 'rcv_packet_dist0_obs', ...
            'rcv_packet_dist10_', 'rcv_packet_dist10_hand', 'rcv_packet_dist10_obs', ...
            'rcv_packet_dist20_', 'rcv_packet_dist20_hand', 'rcv_packet_dist20_obs', ...
            'rcv_packet_dist30_', 'rcv_packet_dist30_hand', 'rcv_packet_dist30_obs', ...
            'rcv_packet_dist40_', 'rcv_packet_dist40_hand', 'rcv_packet_dist40_obs', ...
            'rcv_packet_dist50_', ...
            'rcv_packet_dist60_', ...
            'rcv_packet_dist70_', ...
            'rcv_packet_dist80_', ...
            'rcv_packet_dist90_', ...
            'rcv_packet_dist100_', ...
            'rcv_packet_away_', 'rcv_packet_toward_'};
BERS = zeros(length(expnames), length(seeds));
start_offsets{1} = ...
           [40000, 30000, 40000, ...
            40000, 40000, 50000, ...
            40000, 30000, 40000, ...
            50000, 40000, 50000, ...
            50000, 60000, 50000, ...
            60000, ...
            50000, ...
            50000, ...
            50000, ...
            40000, ...
            60000, ...
            60000, 60000];
thresholds{1} = ...
           [0.6, 0.4, 0.4, ...
            0.5, 0.4, 0.5, ...
            0.7, 0.5, 0.6, ...
            0.6, 0.6, 0.5, ...
            0.7, 0.6, 0.6, ...
            0.7, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.2, 0.2];
start_offsets{2} = ...
           [40000, 30000, 70000, ...
            40000, 30000, 40000, ...
            40000, 20000, 60000, ...
            60000, 40000, 40000, ...
            40000, 20000, 60000, ...
            50000, ...
            60000, ...
            40000, ...
            40000, ...
            50000, ...
            60000, ...
            40000, 40000];
thresholds{2} = ...
           [0.6, 0.5, 0.4, ...
            0.5, 0.4, 0.5, ...
            0.7, 0.6, 0.7, ...
            0.7, 0.6, 0.6, ...
            0.7, 0.6, 0.6, ...
            0.7, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.5, ...
            0.2, 0.2];
start_offsets{3} = ...
           [40000, 40000, 40000, ...
            30000, 20000, 40000, ...
            40000, 40000, 40000, ...
            40000, 60000, 50000, ...
            40000, 20000, 50000, ...
            60000, ...
            60000, ...
            60000, ...
            50000, ...
            40000, ...
            60000, ...
            40000, 40000];
thresholds{3} = ...
           [0.6, 0.4, 0.35, ...
            0.5, 0.4, 0.35, ...
            0.7, 0.6, 0.6, ...
            0.6, 0.6, 0.6, ...
            0.6, 0.6, 0.6, ...
            0.7, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.25, 0.25];
start_offsets{4} = ...
           [40000, 40000, 40000, ...
            40000, 30000, 40000, ...
            40000, 40000, 40000, ...
            50000, 30000, 50000, ...
            50000, 50000, 50000, ...
            40000, ...
            60000, ...
            50000, ...
            30000, ...
            40000, ...
            60000, ...
            30000, 30000];
thresholds{4} = ...
           [0.6, 0.4, 0.4, ...
            0.5, 0.4, 0.3, ...
            0.7, 0.6, 0.6, ...
            0.6, 0.5, 0.6, ...
            0.6, 0.6, 0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.5, ...
            0.25, 0.2];
start_offsets{5} = ...
           [40000, 20000, 40000, ...
            40000, 20000, 50000, ...
            40000, 60000, 50000, ...
            60000, 40000, 40000, ...
            50000, 40000, 40000, ...
            60000, ...
            50000, ...
            60000, ...
            50000, ...
            50000, ...
            60000, ...
            30000, 50000];
thresholds{5} = ...
           [0.6, 0.5, 0.3, ...
            0.5, 0.4, 0.4, ...
            0.6, 0.6, 0.6, ...
            0.7, 0.6, 0.6, ...
            0.6, 0.5, 0.6, ...
            0.7, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.6, ...
            0.5, ...
            0.2, 0.25];


%% --------------------------------------------
%% starts
%% --------------------------------------------
for seed = seeds

  %% for each file
  for fi = [1:length(expnames)]
    expname = expnames{fi};
    filename = [char(expname) int2str(seed)];

    fprintf('- %s\n', filename);

    start_offset = start_offsets{seed}(fi);
    threshold = thresholds{seed}(fi);

    % evaluate_one(seed, filename, input_rcv_dir, output_rcv_dir, start_offset, threshold)
    BERS(fi, seed) = evaluate_one(seed, filename, input_rcv_dir, output_rcv_dir, start_offset, threshold);

  end
end

return;


